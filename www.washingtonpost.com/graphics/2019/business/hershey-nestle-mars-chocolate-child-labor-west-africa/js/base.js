!function(e){var t={};function n(o){if(t[o])return t[o].exports;var i=t[o]={i:o,l:!1,exports:{}};return e[o].call(i.exports,i,i.exports,n),i.l=!0,i.exports}n.m=e,n.c=t,n.d=function(e,t,o){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:o})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var o=Object.create(null);if(n.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)n.d(o,i,function(t){return e[t]}.bind(null,i));return o},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=0)}([function(e,t,n){n(1),new Swiper(".swiper-container",{slidesPerView:1,spaceBetween:30,loop:!0,pagination:{el:".swiper-pagination",clickable:!0},navigation:{nextEl:".swiper-button-next",prevEl:".swiper-button-prev"}})},function(e,t,n){n(2),n(3),n(4),n(5);var o=n(6),i=n(7),a=n(8),s=n(9),r=n(10),l=n(11),c=n(12);n(13);var d=$(".balanced-headline");d.length&&(d.css("visibility","hidden"),new s("PostoniStandardBold").load().then(function(){a(".balanced-headline",{watch:!0}),d.css("visibility","visible")},function(){d.css("visibility","visible")}));if(window.muteErrors||-1!=document.location.href.indexOf("template=iframe")||(window.TWPHead.ready("main.js",function(){TWP&&TWP.Analytics&&TWP.Analytics.init&&TWP.Analytics.init({snowflake:!0,trackScrolling:{omniture:!1}})}),(r("video")||$(".powa").length>-1)&&function(e,t,n){var o=document.createElement("script"),i="defer"===t?"defer":"async";o.setAttribute(i,""),o.src=e;var a=document.getElementsByTagName("script")[0];n&&(o.onload=n);a.parentNode.insertBefore(o,a)}("//www.washingtonpost.com/player/prod/powaBoot.js","defer")),!window.muteErrors){var u=window&&window.location&&window.location.href,h=new RegExp("(https?://localhost)|(/graphics/test/)");!u.match(h)&&(l.coralInitEventMonitors(),l.coratTalkControllerInit())}var p,f,m;p=$("#nav-subscribe"),f=p.attr("href"),m=window.encodeURI(window.location.href),p.attr("href",f+m),$(".section-label-span").mouseover(function(){$(".story-label-explainer").show()}),$(".story-label-explainer").click(function(){$(".story-label-explainer").hide()});var v=$("#comments"),w=function(){v.show(function(){g($(this))})};function g(e){var t=e.offset().top,n=100*t/500;$("html,body").animate({scrollTop:t-0},n)}function b(){!0===v.is(":visible")?g(v):w()}$("#pg-button--comments").click(b),$(".comment-jump").click(b),jQuery(document).ready(function(){new i({threshold:600,elements_selector:"img",throttle:30,skip_invisible:!0,data_src:window.innerWidth<767?"lowResSrc":"hiResSrc",callback_load:function(){c.recalculateLocations()}});var e=$(".pg-header, .inline-content:not(.inline-photo-left)"),t=[];if(e.each(function(n){t[n]=c.create(e.eq(n)),t[n].stateChange(function(){t[n].isInViewport?$(t[n].watchItem).addClass("on-screen"):$(t[n].watchItem).removeClass("on-screen"),$(".pg-header").hasClass("on-screen")?$("body").addClass("hide-share force"):$("body").removeClass("hide-share force",1),e.hasClass("on-screen")?$("body").addClass("hide-share"):$("body").removeClass("hide-share")})}),setTimeout(function(){"1"===(document.cookie.match(/rplsb=([0-9]+)/)?RegExp.$1:"")&&($(".pb-f-page-subscription-promo").remove(),$(".endCap").remove())},500),-1==document.location.href.indexOf("template=iframe"))try{o({container:["#relatedHeadlines","#relatedHeadlinesSide"],items:5})}catch(e){}v.hide()})},function(e,t){!function(){"use strict";var e,t=[];function n(){for(;t.length;)t[0](),t.shift()}function o(e){this.a=i,this.b=void 0,this.f=[];var t=this;try{e(function(e){!function e(t,n){if(t.a==i){if(n==t)throw new TypeError;var o=!1;try{var a=n&&n.then;if(null!=n&&"object"==typeof n&&"function"==typeof a)return void a.call(n,function(n){o||e(t,n),o=!0},function(e){o||s(t,e),o=!0})}catch(e){return void(o||s(t,e))}t.a=0,t.b=n,r(t)}}(t,e)},function(e){s(t,e)})}catch(e){s(t,e)}}e=function(){setTimeout(n)};var i=2;function a(e){return new o(function(t){t(e)})}function s(e,t){if(e.a==i){if(t==e)throw new TypeError;e.a=1,e.b=t,r(e)}}function r(n){!function(n){t.push(n),1==t.length&&e()}(function(){if(n.a!=i)for(;n.f.length;){var e=(a=n.f.shift())[0],t=a[1],o=a[2],a=a[3];try{0==n.a?o("function"==typeof e?e.call(void 0,n.b):n.b):1==n.a&&("function"==typeof t?o(t.call(void 0,n.b)):a(n.b))}catch(e){a(e)}}})}o.prototype.g=function(e){return this.c(void 0,e)},o.prototype.c=function(e,t){var n=this;return new o(function(o,i){n.f.push([e,t,o,i]),r(n)})},window.Promise||(window.Promise=o,window.Promise.resolve=a,window.Promise.reject=function(e){return new o(function(t,n){n(e)})},window.Promise.race=function(e){return new o(function(t,n){for(var o=0;o<e.length;o+=1)a(e[o]).c(t,n)})},window.Promise.all=function(e){return new o(function(t,n){function o(n){return function(o){s[n]=o,(i+=1)==e.length&&t(s)}}var i=0,s=[];0==e.length&&t(s);for(var r=0;r<e.length;r+=1)a(e[r]).c(o(r),n)})},window.Promise.prototype.then=o.prototype.c,window.Promise.prototype.catch=o.prototype.g)}()},function(e,t){(function(){var e={};window.TWP=window.TWP||{Module:{}},window.TWP.Module=window.TWP.Module||{},window.TWP.Module.util=e,e.getParameters&&void 0!==e.getParameters||(e.getParameters=function(e){var t,n,o=[],i={};if(e&&-1!==e.indexOf("?")&&(o=e.split("?")[1])){t=o.indexOf("&")?o.split("&"):[o];for(var a=0;a<t.length;a++)-1!==t[a].indexOf("=")&&(i[(n=t[a].split("="))[0]]=unescape(n[1]))}return i}),e.changeIframeHeight=function(){var e=window.location.origin.replace(window.location.protocol,"")+window.location.pathname,t=[];t.push('iframe[src="'+e+window.location.search+'"]'),"/"===window.location.pathname[window.location.pathname.length-1]?t.push('iframe[src="'+(e.slice(0,-1)+window.location.search)+'"]'):t.push('iframe[src="'+e+"/"+window.location.search+'"]');var n=$(window.top.document).find(t.join(",")),o=$("body").outerHeight(!0);n.css({height:o+"px"})},e.debounce=function(e,t,n){var o;return function(){var i=this,a=arguments,s=n&&!o;clearTimeout(o),o=setTimeout(function(){o=null,n||e.apply(i,a)},t),s&&e.apply(i,a)}},$(document).ready(function(){var t=e.getParameters(document.URL);if(t.template&&"iframe"===t.template){try{document.domain="washingtonpost.com"}catch(e){}$("body").addClass("iframe").show().css("display","block"),t.graphic_id&&$("#"+t.graphic_id).siblings().hide(),$("#.pg-article").siblings().hide();try{if(window.location.hostname===window.top.location.hostname){var n=e.debounce(function(){e.changeIframeHeight()},250);window.setTimeout(function(){e.changeIframeHeight()},1e3),$(window).on("resize",n)}}catch(e){}t.type&&"news-service"===t.type&&($("body").addClass("pg-news-service"),$(".pg-header").show(),$(".pg-article").append('\n                    <div class="pg-news-service-logo">\n                        <img data-src="https://img.washingtonpost.com/pb/resources/img/TWPLogos-twp_black-268x.png" alt="Washington Post logo" />\n                    </div>\n                '))}})}).call(this)},function(e,t){!function(e,t){var n=t.wp_pb=t.wp_pb||{},o=n.nav=n.nav||{};var i={isHomepage:e("#logo-in-nav").hasClass("homePage"),init:function(){if(!e("#page").hasClass("ie8")){if(0===e("#article-full-width-content").length&&e("#pb-root .pb-f-page-header-v2").length){var n=e(".pb-f-page-header-v2");e("#pb-root").before(n)}var o;(t.ActiveXObject||"ActiveXObject"in t)&&(e("#main-sections-nav").addClass("ie"),e("#wp-header").addClass("ie")),e("#sections-menu-off-canvas ul.side-nav li").each(function(){if(!e(this).hasClass("nav-screenreader-link")){var t=e(this).find(">a"),n=t.html().replace(/\s+/g,"").replace(/&/g,"-").toLowerCase(),o=t.attr("href");if(e(this).hasClass("main-nav"))t.attr("href",o+"?nid=menu_nav_"+n);else if(e(this).hasClass("sub-nav-item")){var i=e(this).parents(".main-nav").find(">a").text().replace(/\s+/g,"").replace(/&/g,"-").toLowerCase();t.attr("href",o+"?nid=menu_nav_"+i+"-"+n)}}}),e("#sections-menu-wide li").each(function(){var t=e(this).find("a"),n=t.html().replace(/\s+/g,"").replace(/&/g,"-").toLowerCase(),o=t.attr("href");t.attr("href",o+"?nid=top_nav_"+n)}),e("#search-btn").click(function(t){t.stopPropagation(),t.preventDefault(),e(this).hasClass("closed")?(e(this).removeClass("closed").addClass("opened"),e("#search-field").removeClass("closed").addClass("opened"),e("#search-field").focus()):e(this).hasClass("opened")&&e("#search-form").submit()}),e("#search-btn").on("mouseover",function(){e(this).hasClass("opened")&&(o=!0)}).on("mouseout",function(){e(this).hasClass("opened")&&(o=!1)}),e("#search-field").on("blur",function(){e(this).hasClass("opened")&&!o&&(e(this).removeClass("opened").addClass("closed"),e("#search-btn").removeClass("opened").addClass("closed"))}),e("#search-form, #nav-search-mobile").submit(function(){return!!e(this).find("input[type=text]").val()&&(t.s&&s.sendDataToOmniture&&s.sendDataToOmniture("Search Submit","event2",{eVar38:e(this).find("input[type=text]").val(),eVar1:s.pageName}),!0)}),function(){var n;e("#sections-menu-off-canvas li a").hover(function(){e(this).addClass("hover-name"),e(this).parent().addClass("unhover-list")},function(){e(this).removeClass("hover-name"),e(this).parent().removeClass("unhover-list")}),e("#nav-user").click(function(){e("body").hasClass("left-menu left-menu-pb")&&(e("body").removeClass("left-menu left-menu-pb"),e("#main-sections-nav").removeClass("active"),e(".section-menu-btn").removeClass("active")),e("#user-menu").toggleClass("nav-user-show"),e("body").toggleClass("account-menu")}),e("#settings-nav-btn").click(function(){e("body").hasClass("left-menu left-menu-pb")&&(e("body").removeClass("left-menu left-menu-pb"),e("#main-sections-nav").removeClass("active"),e(".section-menu-btn").removeClass("active")),e("#logged-in-status").hasClass("logged-in")?e("#user-menu").toggleClass("nav-user-show"):e(".sign-up-buttons").toggleClass("nav-user-show"),e("body").toggleClass("account-menu")}),e(document).on("click",".section-menu-btn",function(t){if(t.stopPropagation(),t.preventDefault(),!e("html").hasClass("drawbridge-up")){var n=e(this),o=e("#main-sections-nav");if(o.hasClass("active"))e("body").removeClass("left-menu left-menu-pb"),n.removeClass("active"),o.removeClass("active");else{if(e("body").hasClass("account-menu")&&(e("body").removeClass("account-menu"),e("#user-menu").removeClass("nav-user-show"),e(".sign-up-buttons").removeClass("nav-user-show")),e("body").addClass("left-menu left-menu-pb"),!e.trim(e("#sections-menu-off-canvas").html()).length){var a="",s=!i.isHomepage&&wp_pb.canonical_url?"&contentUri="+wp_pb.canonical_url:"";a=e(".pb-f-page-header-v2 #page").hasClass("offsite")?"https://www.washingtonpost.com/pb/api/v2/render/feature/page/header-v2?shownav=shownav":"/pb/api/v2/render/feature/page/header-v2?shownav=shownav"+s,e.get(a,function(t){var n=e(t.rendering),o=n.find("#subscribe-left-nav");e(".pb-f-page-header-v2").find("#main-sections-nav-inner").append(o);var a=n.find("#search-nav-wrapper");e(".pb-f-page-header-v2").find("#main-sections-nav-inner").append(a);var s=n.find("#sections-menu-off-canvas");e(".pb-f-page-header-v2").find("#main-sections-nav-inner").append(s);var r=n.find("#site-attribution-off-canvas-menu");e(".pb-f-page-header-v2").find("#main-sections-nav-inner").append(r),e("#main-sections-nav").hasClass("hide-subscribe-left-nav")||e("#subscribe-left-nav").removeClass("hidden"),i.initRegionalToggle()})}n.addClass("active"),o.addClass("active")}r()}}),e(document).on({mouseenter:function(){var t;t=e(this),n=setTimeout(function(){e("#main-sections-nav").addClass("subNavigation"),e(t).addClass("hover")},75)},mouseleave:function(){e(this).removeClass("hover"),e("#main-sections-nav").removeClass("subNavigation"),clearTimeout(n)}},".main-nav"),e(t).width()<=480&&e(".main-nav").click(function(){location.href=e(this).find(".main-nav-item").attr("href")})}()}},setupNav:function(){e.fn.appendLinkItems=function(t,n){var o=this;return n=n||"<li>",e.each(t,function(t,i){var a=e("<a>");i.title&&a.text(i.title),i.html&&a.html(i.html),i.href&&a.attr("href",i.href),i.attr&&a.attr(i.attr),i.class&&a.addClass(i.class),o.append(e(n).append(a).addClass(i.selected?"selected":"").append("<hr />"))}),this},o.setIdentityMenu=function(t){var n=e("#user-menu ul.user-info");n.children("li").remove(),n.appendLinkItems(t)},o.closeDropdowns=function(){e("#wp-header .dropdown-trigger.active").each(function(){e(this).removeClass("active"),e("#"+e(this).data("menu")).hide()}),e(".leaderboard").removeClass("hideAd")},o.showNav=function(){e("#wp-header").hasClass("bar-hidden")&&setTimeout(function(){e("#wp-header").removeClass("bar-hidden")},250)},o.hideNav=function(){e("#wp-header").hasClass("bar-hidden")||setTimeout(function(){e("#wp-header").addClass("bar-hidden")},250)}},setScrollEvents:function(){var n=e("#logo-in-nav").hasClass("homePage"),i=e(this).scrollTop()||0,s=a(),l=e(".pb-f-page-notification-bar"),c=0;if(l.length&&(c=l.outerHeight()),n)e("#logo-in-nav").removeClass("nav-display-show").addClass("nav-display-hide"),e(".main-navigation").removeClass("nav-logo-display-show"),e("#sections-menu-wide").addClass("nav-display-show").removeClass("nav-display-hide"),e(t).scroll(function(){if(s&&e("#main-sections-nav").hasClass("active"))return!1;var n=!1,o=e(t).width(),i=t.pageYOffset;o>991&&e("#logo-in-nav").addClass("nav-display-hide-tagline"),o>=768&&(i>80&&0==n?(n=!0,e("#sections-menu-wide").removeClass("nav-display-show").addClass("nav-display-hide"),e("#logo-in-nav").addClass("nav-display-show").removeClass("nav-display-hide"),e(".main-navigation").addClass("nav-logo-display-show")):i<=0&&(n=!1,e("#section-menu-btn").hasClass("active")||(e("#logo-in-nav").removeClass("nav-display-show").addClass("nav-display-hide"),e(".main-navigation").removeClass("nav-logo-display-show"),e("#sections-menu-wide").addClass("nav-display-show").removeClass("nav-display-hide")))),e("#main-sections-nav").hasClass("active")&&r()});else if(!n||s){var d=100,u=150;s&&(u=30,d=25),e(t).scroll(function(){if(s&&e("#main-sections-nav").hasClass("active"))return!1;if(!e("#section-menu-btn").hasClass("active")){var n=e(this).scrollTop();if(n+80<i||0===n){var l=n;setTimeout(function(){var t=e(this).scrollTop();(l-t>u&&!e("#wp-header").hasClass("no-scroll-peek")||0===n)&&(o.showNav(),i=n)},d)}else if(n-80>i&&n>50+c){var h=!0;a()&&t.matchMedia("(orientation: landscape)").matches&&(e("#user-menu").hasClass("nav-user-show")||e(".sign-up-buttons").hasClass("nav-user-show"))&&(h=!1),e("header").hasClass("dont-hide-header-on-scroll")&&(h=!1),h&&(o.hideNav(),i=n,e("body").removeClass("account-menu"),e("#user-menu").removeClass("nav-user-show"),e(".sign-up-buttons").removeClass("nav-user-show"))}}e("#main-sections-nav").hasClass("active")&&r()})}e(t).resize(function(){o.closeDropdowns(),n&&e(t).width()<991&&e("#logo-in-nav").hasClass("nav-display-hide-tagline")&&e("#logo-in-nav").removeClass("nav-display-hide-tagline"),n&&e(t).width()>991&&(e("#logo-in-nav").hasClass("nav-display-hide-tagline")||e("#logo-in-nav").addClass("nav-display-hide-tagline"))}),a()&&(e(document).mouseup(function(t){if("mobile-hamburger-ic"!=t.target.id){var n=e("#main-sections-nav"),o=e("#main-sections-nav");!n.hasClass("active")||o.is(t.target)||0!==o.has(t.target).length&&"main-sections-nav-inner"!=t.target.id||(e("body").removeClass("left-menu left-menu-pb"),e(".section-menu-btn").removeClass("active"),n.removeClass("active"))}}),e(document).bind("touchend",function(t){var n=e(".sign-up-buttons");!n.is(t.target)&&0===n.has(t.target).length&&e(".sign-up-buttons").hasClass("nav-user-show")&&"settings-nav-btn"!==t.target.id&&(e(".sign-up-buttons").removeClass("nav-user-show"),e("body").removeClass("account-menu"))}),e(document).bind("touchend",function(t){var n=e("#main-sections-nav");!n.is(t.target)&&0===n.has(t.target).length&&e("#main-sections-nav").hasClass("active")&&"section-menu-btn"!==t.target.id&&"section-menu-btn"!==t.target.parentNode.id&&"mobile-hamburger-ic"!==t.target.id&&(e("#main-sections-nav, .section-menu-btn").removeClass("active"),e("body").removeClass("left-menu left-menu-pb"))}),e(document).bind("touchend",function(t){var n=e("#user-menu");!n.is(t.target)&&0===n.has(t.target).length&&e("#user-menu").hasClass("nav-user-show")&&"settings-nav-btn"!==t.target.id&&"nav-user"!==t.target.parentNode.id&&"username"!==t.target.className&&(e("#user-menu").removeClass("nav-user-show"),e("body").removeClass("account-menu"))})),e(document).mouseup(function(t){var n=e("#user-menu");!n.is(t.target)&&0===n.has(t.target).length&&e("#user-menu").hasClass("nav-user-show")&&"settings-nav-btn"!==t.target.id&&"nav-user"!==t.target.parentNode.id&&"username"!==t.target.className&&(e("#user-menu").removeClass("nav-user-show"),e("body").removeClass("account-menu"))}),e(document).mouseup(function(t){var n=e("#main-sections-nav");!n.is(t.target)&&0===n.has(t.target).length&&e("#main-sections-nav").hasClass("active")&&"section-menu-btn"!==t.target.id&&"section-menu-btn"!==t.target.parentNode.id&&"mobile-hamburger-ic"!==t.target.id&&(e("#main-sections-nav, .section-menu-btn").removeClass("active"),e("body").removeClass("left-menu left-menu-pb"))})},setIdentity:function(){var n;o.getIdentityProvider=function(){return n},o.setIdentityProvider=function(t){var i=function(){};(n={}).name=t.name||"",n.getUserId=t.getUserId||i,n.getUserMenu=t.getUserMenu||i,n.getSignInLink=t.getSignInLink||i,n.getRegistrationLink=t.getRegistrationLink||i,n.isUserLoggedIn=t.isUserLoggedIn||i,n.render=t.render||function(){n.isUserLoggedIn()?(e("#nav-user .username").text(n.getUserId()),o.setIdentityMenu(n.getUserMenu()),e("#nav-user, #user-menu, .site-info .account-menu").removeClass("hidden"),e("#logged-in-status").addClass("logged-in"),e(document).on("onTwpMeterReady",function(){"1"!==(document.cookie.match(/rplsb=([0-9]+)/)?RegExp.$1:"")&&(e("#user-menu").addClass("no-subscriber"),e("#nav-subscribe, #subscribe-left-nav").removeClass("hidden"),e("#logged-in-status.logged-in #nav-subscribe").css("display","block"),e("#main-sections-nav").removeClass("hide-subscribe-left-nav"))})):(e("#sign-in-link").attr("href",n.getSignInLink()+"?nid=top_pb_signin&tid=nav_sign_in"),e(".nav-sign-in, #nav-subscribe, #nav-subscribe-mobile, #subscribe-left-nav").removeClass("hidden"),e("#main-sections-nav").removeClass("hide-subscribe-left-nav"))},o.renderIdentity()},o.renderIdentity=function(e){e=e||function(){},n&&n.render(),e(n)};var i=e("#nav-user").data("show-identity"),a=t.location.href.split("?")[0],s={name:"TWP",getUserId:function(){var e=TWP.Util.User.getUserName(),t=TWP.Util.User.getUserId();return"string"==typeof e&&e.length>0?e:t},getUserMenu:function(){return[{title:TWP.Util.User.getUserId(),href:TWP.signin.profileurl+a+"&tid=nav_acctmgnt_menu&refresh=true",class:"account"},{title:"Sign out",href:TWP.signin.logouturl_page+"?tid=nav_acctmgnt_menu"}]},getSignInLink:function(){return TWP.signin.loginurl_page+a},getRegistrationLink:function(){return TWP.signin.registrationurl_page+a},isUserLoggedIn:function(){return!!TWP.Util.User&&TWP.Util.User.getAuthentication()}};i&&function e(){o.getIdentityProvider()||(TWP&&TWP.signin&&TWP.Util?(o.setIdentityProvider(s),o.renderIdentity()):t.setTimeout(function(){e()},200))}()},initRegionalToggle:function(){var t=function(t){try{e.cookie("region_cookie",t,{path:"/",domain:document.location.hostname.replace(/([a-zA-Z0-9-]+)/,"")}),localStorage.setItem("region_cookie",t)}catch(e){}};e(".main-nav.has-info .additional-inline-info a").each(function(){e(this).text().indexOf("Regional")>0?e(this).on("click",function(){t(1)}):e(this).text().indexOf("World")>0&&e(this).on("click",function(){t(0)})})}};function a(){return!!(navigator.userAgent.match(/Android/i)||navigator.userAgent.match(/webOS/i)||navigator.userAgent.match(/iPhone/i)||navigator.userAgent.match(/iPod/i)||navigator.userAgent.match(/BlackBerry/i)||navigator.userAgent.match(/Kindle/i)||navigator.userAgent.match(/Windows Phone/i))}function r(){e("#sections-menu-off-canvas > ul > li").each(function(){if(e("#main-sections-nav").hasClass("active")&&e(this).hasClass("has-sub")){var n=e(this).find("ul").height()/2-10,o=e(this).offset().top-e(t).scrollTop();o<94?n=0:o-n<95&&(n=o-95),e(this).find("ul").css("top","-"+n+"px")}})}i.init(),i.setupNav(),i.setScrollEvents(),i.setIdentity()}(jQuery,window)},function(e,t){function n(e){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}!function(){try{var e={myRoot:".top-sharebar-wrapper",init:function(){$(".pb-f-sharebars-top-share-bar").each(function(t,n){if(TWPHead.desktop||$(n).find(".top-sharebar-wrapper").data("pb-prevent-ajax")||0!=$(n).find(".vertical-sticky-top-sharebar").size())e.originalInit();else{var o=$(n).find(".top-sharebar-wrapper").data("pb-canonical-url");o.indexOf(".washingtonpost.com")>=0?$.ajax({url:"/pb/api/v2/render/feature",dataType:"json",data:{id:$(n)[0].id,uri:window.location.pathname,contentUri:o,desktop:TWPHead.desktop,mobile:TWPHead.mobile},cache:!0,jsonCallback:"wpTopShareBarAjax",success:function(t){$(n).empty(),$(n).append($(t.rendering).children()),e.originalInit()},error:function(t){e.originalInit()}}):e.originalInit(),$(n).find(".top-sharebar-wrapper").data("pb-prevent-ajax","true")}})},originalInit:function(e){var n=this;e=e||this.myRoot;var i=$(e);i.hasClass("sticky-top-sharebar")&&o.init(),i.each(function(e,o){$(o).hasClass("vertical-sticky-top-sharebar")&&t.init($(o));var i=$(o),a=$(".tool:not(.more, .read-later-bookmark, .read-later-list)",i),s=$(".social-tools-wrapper",i),r=$(".tool.more",s),l=$(".social-tools-additional",i),c=window.innerWidth>0?window.innerWidth:screen.width;mobile_browser;if(r.off("click").on("click",this,function(e){r.hide(),l.show("fast",function(e){i.addClass("expanded"),$(".social-tools",l).animate({"margin-left":0},4250)}).addClass("more-open")}),a.on({click:function(e){var t=$(this).attr("class");t=void 0!==t?t.split(" ")[0].trim():"",n.trackTraffic("share."+t,t+"_bar")}}),wp_pb&&wp_pb.BrowserInfo&&wp_pb.BrowserInfo.tablet&&i.addClass("tablet"),TWPHead.mobile&&i.find(".vertical-sticky-top-sharebar").size()>0){var d=function(){var e=i.find(".social-tools-wrapper").width()-5,t=Math.ceil(i.find(".social-tools-primary .social-tools .tool").first().outerWidth(!0));i.find(".social-tools-primary .social-tools .tool.more").hide();var n=i.find(".social-tools-primary .social-tools .tool:not(.more), .social-tools-additional .social-tools .tool").hide();i.find(".social-tools-readlater").length>0&&(e-=Math.ceil(i.find(".social-tools-readlater").width()));for(var o=Math.floor(e/t),a=0;a<n.length;a++)try{a<o?$(n.get(a)).fadeIn():$(n.get(a)).hide()}catch(e){}};$(window).resize(function(){d()}),d()}else i.find(".social-tools-primary .social-tools .tool").fadeIn();i.removeClass("unprocessed")}),"function"==typeof wp_pb.StaticMethods.initReadLater&&wp_pb.StaticMethods.initReadLater(i,"top-share-bar")},trackTraffic:function(e,t){if("function"==typeof window.sendDataToOmniture){var o={eVar1:"object"==n(window.s)&&s&&s.eVar1,eVar2:"object"==n(window.s)&&s&&s.eVar2,eVar8:"object"==n(window.s)&&s&&s.eVar8,eVar17:"object"==n(window.s)&&s&&s.eVar17,eVar27:t};try{sendDataToOmniture(e,"event6",o)}catch(e){}}}},t={init:function(e){e.closest(".pb-f-sharebars-top-share-bar").insertBefore("#pb-root"),window.innerWidth>992&&(e.css({top:($(window).height()-e.outerHeight()+25)/2+"px"}),e.animate({left:"-1px"}),$(window).resize(function(){e.animate({top:($(window).height()-e.outerHeight()+25)/2+"px"},50)})),t.enableCollisionDetection(e)},enableCollisionDetection:(r="getBoundingClientRect"in document.documentElement,l=0,function(e){var t;!r||l>3||(t=setInterval(function(){var n,o,i,a,s=e.closest(".pb-f-sharebars-top-share-bar"),r=s.find(".top-sharebar-wrapper"),l=$("html").hasClass("gallery_story")?$(".pb-f-gallery-gallery"):$("#main-content"),c=s.data("__mccollides"),d={value:void 0};s.length&&r.length&&l.length?(d.value=(n=l[0],o=r[0],i=n.getBoundingClientRect(),a=o.getBoundingClientRect(),!(i.top>a.bottom||i.right<a.left||i.bottom<a.top||i.left>a.right)),c&&d.value===c.value||(wp_pb.report("sticky-vertical-sharebar","collides_with_main_content",d.value),s.data("__mccollides",{value:d.value}))):clearInterval(t)},600),l++)})},o={setElmTop:function(e,t){var n=t?"translate3d(0px, "+t+"px, 0px)":"initial";e.css({transform:n})},fixedPosition:function(e,t){$(window).scrollTop()>t?e.hasClass("top-sharebar-fixed")||(e.addClass("top-sharebar-fixed"),wp_pb.report("sticky-top-sharebar","sharebar_fixed",!0)):(e.removeClass("top-sharebar-fixed"),wp_pb.report("sticky-top-sharebar","sharebar_unfixed",!0)),"block"==$(".shareBar-follow-modal").css("display")&&($("#wp-header").height()>0?$(".shareBar-follow-modal").addClass("fixedModalNav").removeClass("fixedModal"):$(".shareBar-follow-modal").addClass("fixedModal").removeClass("fixedModalNav"))},moveOutOfRoot:function(e){var t=$("#pb-root");if("none"!==t.css("max-width")){var n=e.parent(),o=$(".pb-f-ad-leaderboard");n.find(".sticky-top-sharebar").css("padding-top","55px"),t.before(n),t.before(o)}},detectMobileForSMS:function(){if(mobile_browser){var e="";windows_browser?e="sms://?body=":(android_browser||android233_browser)&&(e="sms:?body="),e.length>0?$(".pb-f-sharebars-top-share-bar .sms-share-device.unprocessed").each(function(){$(this).attr("onclick",$(this).attr("onclick").replace(/sms:\?&body=/g,e)),$(this).removeClass("unprocessed")}):$(".pb-f-sharebars-top-share-bar .sms-share-device.unprocessed").removeClass("unprocessed")}},init:function(){var e=$(".sticky-top-sharebar"),t=this;if(e.length){this.moveOutOfRoot(e);var n=e.offset().top;"fixed"===$("#wp-header").css("position")&&$(window).scrollTop()>n&&this.fixedPosition(e,n),$(window).off("scroll.sharebar").on("scroll.sharebar",function(){t.fixedPosition(e,n)}),this.detectMobileForSMS()}}},i=(document.cookie.match(/wapo_login_id=([^;]+)/)&&RegExp.$1,document.cookie.match(/wapo_secure_login_id=([^;]+)/)&&RegExp.$1,navigator.userAgent,{currIncrementMax:9,currIncrementUnit:2,currIncrementIndex:0,init:function(e,t,n){e=e||"#article-body article, .related-story, .liveblog-intro, #liveblog-story-list .description, #full-recipe .article-content",t=t||"p, li",n=n||".tool.textresizer",this.root=$(e),this.resizeableElements=$(t,this.root),$(".related-story").prev("h3").length>0&&(this.resizeableElements.push($(".related-story").prev("h3")),this.resizeableElements.push($(".related-story h4 a"))),$(n).on("click",this,this.resize)},resize:function(e){var t=e.data;t.currIncrementIndex==t.currIncrementMax&&(t.currIncrementIndex=0,t.currIncrementUnit=2==t.currIncrementUnit?-2:2),t.currIncrementIndex=t.currIncrementIndex+1,t.resizeableElements.each(function(){elm=$(this),currSize=parseFloat(elm.css("font-size"),5);var e=currSize+t.currIncrementUnit;elm.css("font-size",e),wp_pb.report("textresizer","resized",e)})}});$(".social-tools-wrapper .tool.textresizer, .social-tools-wrapper .tool.print").on("click",function(){!function(e){if("function"==typeof window.sendDataToOmniture){var t={eVar1:"object"==n(window.s)&&s&&s.eVar1,eVar2:"object"==n(window.s)&&s&&s.eVar2,eVar8:"object"==n(window.s)&&s&&s.eVar8,eVar17:"object"==n(window.s)&&s&&s.eVar17,eVar27:e};try{sendDataToOmniture(e+".click","event6",t)}catch(e){}}}($(this).attr("class").split(" ")[0].trim())}),$(".pg-byline--author").on("mouseenter",function(e){$(".author-hover-card").removeClass("author-card-visible"),$(e.currentTarget).find(".author-hover-card").addClass("author-card-visible")}),$(".pg-byline--author").on("mouseleave",function(e){$(".author-hover-card").removeClass("author-card-visible")}),$(".author-hover-card").on("mouseleave",function(e){$(".author-hover-card").removeClass("author-card-visible")}),window.TWP=TWP||{},TWP.SocialTools=TWP.SocialTools||e,TWP.SocialTools.init(),TWP.TextResizer=TWP.TextResizer||i,TWP.TextResizer.init();var a=isMobile.tablet();window.VisitorSegment&&VisitorSegment("tablet",function(){return a&&$(window).width()>768})}catch(e){}var r,l}()},function(e,t){e.exports=function(e){var t=e.items||8;jQuery.getJSON("https://s3.amazonaws.com/wp-stat/apps/top-content/graphics.json",function(n){try{var o=[];n.q_results[0].rows[0].content.slice(0,t).map(function(e,t){if(e.media&&e.media.length&&e.media[0].url){var n="".concat("https://img.washingtonpost.com/wp-apps/imrs.php","?src=").concat(e.media[0].url,"&w=60&h=60");o.push('\n                        <div class="article">\n                            <a href="'.concat(e.url,'">\n                                <div class="number left">').concat(t+1,"</div>\n                                <img src=").concat(n,' class="right" />\n                                <div class="headline">').concat(e.linkText,'</div>\n                                <div class="clear"></div>\n                            </a>\n                        </div>\n                    '))}}),jQuery.isArray(e.container)?jQuery.each(e.container,function(e,t){jQuery(t).html(o.join(""))}):jQuery(e.container).html(o.join(""))}catch(e){console.log("Error fetching top content",e)}})}},function(e,t,n){var o,i,a,s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};a=function(){"use strict";var e={elements_selector:"img",container:window,threshold:300,throttle:150,data_src:"original",data_srcset:"originalSet",class_loading:"loading",class_loaded:"loaded",class_error:"error",class_initial:"initial",skip_invisible:!0,callback_load:null,callback_error:null,callback_set:null,callback_processed:null},t=!("onscroll"in window)||/glebot/.test(navigator.userAgent),n=function(e,t){e&&e(t)},o=function(e){return e.getBoundingClientRect().top+window.pageYOffset-e.ownerDocument.documentElement.clientTop},i=function(e){return e.getBoundingClientRect().left+window.pageXOffset-e.ownerDocument.documentElement.clientLeft},a=function(e,t,n){return!(function(e,t,n){return(t===window?window.innerHeight+window.pageYOffset:o(t)+t.offsetHeight)<=o(e)-n}(e,t,n)||function(e,t,n){return(t===window?window.pageYOffset:o(t))>=o(e)+n+e.offsetHeight}(e,t,n)||function(e,t,n){var o=window.innerWidth;return(t===window?o+window.pageXOffset:i(t)+o)<=i(e)-n}(e,t,n)||function(e,t,n){return(t===window?window.pageXOffset:i(t))>=i(e)+n+e.offsetWidth}(e,t,n))},r=function(e,t){var n=new e(t),o=new CustomEvent("LazyLoad::Initialized",{detail:{instance:n}});window.dispatchEvent(o)},l=function(t){this._settings=s({},e,t),this._queryOriginNode=this._settings.container===window?document:this._settings.container,this._previousLoopTime=0,this._loopTimeout=null,this._boundHandleScroll=this.handleScroll.bind(this),this._isFirstLoop=!0,window.addEventListener("resize",this._boundHandleScroll),this.update()};l.prototype={_reveal:function(e){var t=this._settings,o=function o(){t&&(e.removeEventListener("load",i),e.removeEventListener("error",o),e.classList.remove(t.class_loading),e.classList.add(t.class_error),n(t.callback_error,e))},i=function i(){t&&(e.classList.remove(t.class_loading),e.classList.add(t.class_loaded),e.removeEventListener("load",i),e.removeEventListener("error",o),n(t.callback_load,e))};"IMG"!==e.tagName&&"IFRAME"!==e.tagName||(e.addEventListener("load",i),e.addEventListener("error",o),e.classList.add(t.class_loading)),function(e,t,n){var o=e.tagName,i=e.dataset[n];if("IMG"===o){!function(e,t){var n=e.parentElement;if("PICTURE"===n.tagName)for(var o=0;o<n.children.length;o++){var i=n.children[o];if("SOURCE"===i.tagName){var a=i.dataset[t];a&&i.setAttribute("srcset",a)}}}(e,t);var a=e.dataset[t];return a&&e.setAttribute("srcset",a),void(i&&e.setAttribute("src",i))}"IFRAME"!==o?i&&(e.style.backgroundImage="url("+i+")"):i&&e.setAttribute("src",i)}(e,t.data_srcset,t.data_src),n(t.callback_set,e)},_loopThroughElements:function(){var e=this._settings,o=this._elements,i=o?o.length:0,s=void 0,r=[],l=this._isFirstLoop;for(s=0;s<i;s++){var c=o[s];e.skip_invisible&&null===c.offsetParent||(t||a(c,e.container,e.threshold))&&(l&&c.classList.add(e.class_initial),this._reveal(c),r.push(s),c.dataset.wasProcessed=!0)}for(;r.length>0;)o.splice(r.pop(),1),n(e.callback_processed,o.length);0===i&&this._stopScrollHandler(),l&&(this._isFirstLoop=!1)},_purgeElements:function(){var e=this._elements,t=e.length,n=void 0,o=[];for(n=0;n<t;n++)e[n].dataset.wasProcessed&&o.push(n);for(;o.length>0;)e.splice(o.pop(),1)},_startScrollHandler:function(){this._isHandlingScroll||(this._isHandlingScroll=!0,this._settings.container.addEventListener("scroll",this._boundHandleScroll))},_stopScrollHandler:function(){this._isHandlingScroll&&(this._isHandlingScroll=!1,this._settings.container.removeEventListener("scroll",this._boundHandleScroll))},handleScroll:function(){var e=this._settings.throttle;if(0!==e){var t=function(){(new Date).getTime()},n=t(),o=e-(n-this._previousLoopTime);o<=0||o>e?(this._loopTimeout&&(clearTimeout(this._loopTimeout),this._loopTimeout=null),this._previousLoopTime=n,this._loopThroughElements()):this._loopTimeout||(this._loopTimeout=setTimeout(function(){this._previousLoopTime=t(),this._loopTimeout=null,this._loopThroughElements()}.bind(this),o))}else this._loopThroughElements()},update:function(){this._elements=Array.prototype.slice.call(this._queryOriginNode.querySelectorAll(this._settings.elements_selector)),this._purgeElements(),this._loopThroughElements(),this._startScrollHandler()},destroy:function(){window.removeEventListener("resize",this._boundHandleScroll),this._loopTimeout&&(clearTimeout(this._loopTimeout),this._loopTimeout=null),this._stopScrollHandler(),this._elements=null,this._queryOriginNode=null,this._settings=null}};var c=window.lazyLoadOptions;return c&&function(e,t){var n=t.length;if(n)for(var o=0;o<n;o++)r(e,t[o]);else r(e,t)}(l,c),l},"object"===r(t)&&void 0!==e?e.exports=a():void 0===(i="function"==typeof(o=a)?o.call(t,n,t,e):o)||(e.exports=i)},function(e,t,n){"use strict";var o,i,a;i=[],void 0===(a="function"==typeof(o=function(){var e,t,n,o={sel:[],el:[]},i=!1,a=!1;function s(){}function r(e,t){Array.prototype.forEach.call(e,t)}function l(){this.reset()}function c(e){return t.some(function(t){return t.start<e&&e<t.end})}function d(e,o,i){if(0===i)e.style.whiteSpace=o,n=0,t=[],function e(o,i){if(o.nodeType===o.ELEMENT_NODE){var a=window.getComputedStyle(o);if("nowrap"===a.whiteSpace){var s=o.outerHTML.length;t.push({start:n,end:n+s}),n+=s}else r(o.childNodes,function(t){e(t,!0)}),i&&(n+=o.outerHTML.length-o.innerHTML.length)}else o.nodeType===o.COMMENT_NODE?n+=o.length+7:o.nodeType===o.PROCESSING_INSTRUCTION_NODE?n+=o.length+2:n+=o.length}(e,!1),e.style.whiteSpace="nowrap";else{var a=[];t.forEach(function(e){e.start>i&&a.push({start:e.start-i,end:e.end-i})}),t=a}}l.prototype.reset=function(){this.index=0,this.width=0};var u,h=function(e){var t=e.currentStyle||window.getComputedStyle(e,null);return"justify"===t.textAlign};function p(e,t,n){var o,i,a,s,r;return t=t.trim(),s=t.split(" ").length,t+=" ",s<2?t:((a=document.createElement("span")).innerHTML=t,e.appendChild(a),i=a.offsetWidth,a.parentNode.removeChild(a),r=Math.floor((n-i)/(s-1)),a.style.wordSpacing=r+"px",a.setAttribute("data-owner","balance-text-justify"),(o=document.createElement("div")).appendChild(a),o.innerHTML)}function f(t,n){var o,i=/([^\S\u00a0]|-|\u2014|\u2013|\u00ad)(?![^<]*>)/g;if(!e)for(e=[],o=i.exec(t);null!==o;)c(o.index)||e.push(o.index),o=i.exec(t);return-1!==e.indexOf(n)}function m(e,t){return 0===t||t===e.length||f(e,t-1)&&!f(e,t)}function v(e,t,n,o,i,a,s){var r;if(t&&"string"==typeof t)for(;;){for(;!m(t,a);)a+=i;if(e.innerHTML=t.substr(0,a),r=e.offsetWidth,i<0){if(r<=o||r<=0||0===a)break}else if(o<=r||n<=r||a===t.length)break;a+=i}s.index=a,s.width=r}function w(e){return e?"string"==typeof e?document.querySelectorAll(e):e.tagName&&e.querySelectorAll?[e]:e:[]}function g(t){r(w(t),function(t){!function(e){var t=e.querySelectorAll('br[data-owner="balance-text-hyphen"]');r(t,function(e){e.outerHTML=""}),r(t=e.querySelectorAll('br[data-owner="balance-text"]'),function(e){e.outerHTML=" "});var n=e.querySelectorAll('span[data-owner="balance-text-softhyphen"]');if(n.length>0&&r(n,function(e){var t=document.createTextNode("­");e.parentNode.insertBefore(t,e),e.parentNode.removeChild(e)}),(n=e.querySelectorAll('span[data-owner="balance-text-justify"]')).length>0){var o="";r(n,function(e){o+=e.textContent,e.parentNode.removeChild(e)}),e.innerHTML=o}}(t);var n=t.style.whiteSpace,o=t.style.float,i=t.style.display,a=t.style.position,s=t.style.lineHeight;t.style.lineHeight="normal";var c=t.offsetWidth,u=t.offsetHeight;t.style.whiteSpace="nowrap",t.style.float="none",t.style.display="inline",t.style.position="static";var f=t.offsetWidth,m=t.offsetHeight,w="pre-wrap"===n?0:function(e,t){var n,o,i,a=document.createElement("div");return a.style.display="block",a.style.position="absolute",a.style.bottom=0,a.style.right=0,a.style.width=0,a.style.height=0,a.style.margin=0,a.style.padding=0,a.style.visibility="hidden",a.style.overflow="hidden",(o=document.createElement("span")).style.fontSize="2000px",o.innerHTML="&nbsp;",a.appendChild(o),e.appendChild(a),n=o.getBoundingClientRect(),a.parentNode.removeChild(a),i=n.height/n.width,t/i}(t,m);if(c>0&&f>c&&f<5e3){for(var g,b,y,C,_,T,E,x=t.innerHTML,I="",S="",k=h(t),L=Math.round(u/m),O=L,V=0;O>1;)e=null,d(t,n,V),g=Math.round((f+w)/O-w),b=Math.round((x.length+1)/O)-1,y=new l,v(t,x,c,g,-1,b,y),C=new l,b=y.index,v(t,x,c,g,1,b,C),y.reset(),b=C.index,v(t,x,c,g,-1,b,y),_=0===y.index?C.index:c<C.width||y.index===C.index?y.index:Math.abs(g-y.width)<Math.abs(C.width-g)?y.index:C.index,S=x.substr(0,_).replace(/\s$/,""),(E=Boolean(S.match(/\u00ad$/)))&&(S=S.replace(/\u00ad$/,'<span data-owner="balance-text-softhyphen">-</span>')),k?I+=p(t,S,c):(I+=S,T=E||Boolean(S.match(/(-|\u2014|\u2013)$/)),I+=T?'<br data-owner="balance-text-hyphen" />':'<br data-owner="balance-text" />'),x=x.substr(_),V=_,O--,t.innerHTML=x,f=t.offsetWidth;t.innerHTML=k?I+p(t,x,c):I+x}t.style.whiteSpace=n,t.style.float=o,t.style.display=i,t.style.position=a,t.style.lineHeight=s})}function b(){var e=o.sel.join(","),t=w(e),n=Array.prototype.concat.apply(o.el,t);g(n)}function y(){var e,t,n,o,a;i||(e=b,"loading"!==document.readyState?e():document.addEventListener?document.addEventListener("DOMContentLoaded",e):document.attachEvent("onreadystatechange",function(){"loading"!==document.readyState&&e()}),window.addEventListener("load",b),window.addEventListener("resize",(t=b,function(){var e=this,i=arguments;a?clearTimeout(a):o&&t.apply(e,i),a=setTimeout(function(){o||t.apply(e,i),a=null},n||100)})),i=!0)}function C(e,t){e?t&&!0===t.watch?function(e){"string"==typeof e?o.sel.push(e):r(w(e),function(e){o.el.push(e)}),y(),b()}(e):t&&!1===t.watch?function(e){"string"==typeof e?o.sel=o.sel.filter(function(t){return t!==e}):(e=w(e),o.el=o.el.filter(function(t){return-1===e.indexOf(t)}))}(e):g(e):a||(o.sel.push(".balance-text"),y(),a=!0)}return C.updateWatched=b,(u=document.documentElement.style).textWrap||u.WebkitTextWrap||u.MozTextWrap||u.MsTextWrap?(s.updateWatched=s,s):C})?o.apply(t,i):o)||(e.exports=a)},function(e,t,n){!function(){function t(e,t){document.addEventListener?e.addEventListener("scroll",t,!1):e.attachEvent("scroll",t)}function n(e){this.a=document.createElement("div"),this.a.setAttribute("aria-hidden","true"),this.a.appendChild(document.createTextNode(e)),this.b=document.createElement("span"),this.c=document.createElement("span"),this.h=document.createElement("span"),this.f=document.createElement("span"),this.g=-1,this.b.style.cssText="max-width:none;display:inline-block;position:absolute;height:100%;width:100%;overflow:scroll;font-size:16px;",this.c.style.cssText="max-width:none;display:inline-block;position:absolute;height:100%;width:100%;overflow:scroll;font-size:16px;",this.f.style.cssText="max-width:none;display:inline-block;position:absolute;height:100%;width:100%;overflow:scroll;font-size:16px;",this.h.style.cssText="display:inline-block;width:200%;height:200%;font-size:16px;max-width:none;",this.b.appendChild(this.h),this.c.appendChild(this.f),this.a.appendChild(this.b),this.a.appendChild(this.c)}function o(e,t){e.a.style.cssText="max-width:none;min-width:20px;min-height:20px;display:inline-block;overflow:hidden;position:absolute;width:auto;margin:0;padding:0;top:-999px;white-space:nowrap;font-synthesis:none;font:"+t+";"}function i(e){var t=e.a.offsetWidth,n=t+100;return e.f.style.width=n+"px",e.c.scrollLeft=n,e.b.scrollLeft=e.b.scrollWidth+100,e.g!==t&&(e.g=t,!0)}function a(e,n){function o(){var e=a;i(e)&&e.a.parentNode&&n(e.g)}var a=e;t(e.b,o),t(e.c,o),i(e)}function s(e,t){var n=t||{};this.family=e,this.style=n.style||"normal",this.weight=n.weight||"normal",this.stretch=n.stretch||"normal"}var r=null,l=null,c=null,d=null;function u(){return null===d&&(d=!!document.fonts),d}function h(){if(null===c){var e=document.createElement("div");try{e.style.font="condensed 100px sans-serif"}catch(e){}c=""!==e.style.font}return c}function p(e,t){return[e.style,e.weight,h()?e.stretch:"","100px",t].join(" ")}s.prototype.load=function(e,t){var i=this,s=e||"BESbswy",c=0,d=t||3e3,h=(new Date).getTime();return new Promise(function(e,t){if(u()&&!function(){if(null===l)if(u()&&/Apple/.test(window.navigator.vendor)){var e=/AppleWebKit\/([0-9]+)(?:\.([0-9]+))(?:\.([0-9]+))/.exec(window.navigator.userAgent);l=!!e&&603>parseInt(e[1],10)}else l=!1;return l}()){var f=new Promise(function(e,t){!function n(){(new Date).getTime()-h>=d?t(Error(d+"ms timeout exceeded")):document.fonts.load(p(i,'"'+i.family+'"'),s).then(function(t){1<=t.length?e():setTimeout(n,25)},t)}()}),m=new Promise(function(e,t){c=setTimeout(function(){t(Error(d+"ms timeout exceeded"))},d)});Promise.race([m,f]).then(function(){clearTimeout(c),e(i)},t)}else!function(e){document.body?e():document.addEventListener?document.addEventListener("DOMContentLoaded",function t(){document.removeEventListener("DOMContentLoaded",t),e()}):document.attachEvent("onreadystatechange",function t(){"interactive"!=document.readyState&&"complete"!=document.readyState||(document.detachEvent("onreadystatechange",t),e())})}(function(){function l(){var t;(t=-1!=v&&-1!=w||-1!=v&&-1!=g||-1!=w&&-1!=g)&&((t=v!=w&&v!=g&&w!=g)||(null===r&&(t=/AppleWebKit\/([0-9]+)(?:\.([0-9]+))/.exec(window.navigator.userAgent),r=!!t&&(536>parseInt(t[1],10)||536===parseInt(t[1],10)&&11>=parseInt(t[2],10))),t=r&&(v==b&&w==b&&g==b||v==y&&w==y&&g==y||v==C&&w==C&&g==C)),t=!t),t&&(_.parentNode&&_.parentNode.removeChild(_),clearTimeout(c),e(i))}var u=new n(s),f=new n(s),m=new n(s),v=-1,w=-1,g=-1,b=-1,y=-1,C=-1,_=document.createElement("div");_.dir="ltr",o(u,p(i,"sans-serif")),o(f,p(i,"serif")),o(m,p(i,"monospace")),_.appendChild(u.a),_.appendChild(f.a),_.appendChild(m.a),document.body.appendChild(_),b=u.a.offsetWidth,y=f.a.offsetWidth,C=m.a.offsetWidth,function e(){if((new Date).getTime()-h>=d)_.parentNode&&_.parentNode.removeChild(_),t(Error(d+"ms timeout exceeded"));else{var n=document.hidden;!0!==n&&void 0!==n||(v=u.a.offsetWidth,w=f.a.offsetWidth,g=m.a.offsetWidth,l()),c=setTimeout(e,50)}}(),a(u,function(e){v=e,l()}),o(u,p(i,'"'+i.family+'",sans-serif')),a(f,function(e){w=e,l()}),o(f,p(i,'"'+i.family+'",serif')),a(m,function(e){g=e,l()}),o(m,p(i,'"'+i.family+'",monospace'))})})},e.exports=s}()},function(e,t){e.exports=function(e){return $('.block[data-block-type="'.concat(e,'"]')).length>0}},function(e,t){function n(e){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var o=window.TWP||{},i=window.wp_pb||{};if(o.Coral=window.TWP.Coral||{},i.EventController=window.EventController||r,r){var a=new r;i.report=function(e,t,n){return a.report("".concat(e,".").concat(t),n)},i.register=function(e,t,n,o){var i={};i["".concat(e,".").concat(t)]=n,a.register(i,o)}}function r(e){this.debug=e||function(){},this.events={},this._fireEvent=function(e,t){var n="app",o=e,i=e.indexOf(".");-1!=i&&(n=e.substring(0,i),o=e.substring(i+1)),this.debug("Fired ".concat(n,".").concat(o,":").concat(t));var a=this.events[n];if(a){a._called=!0;for(var s=a._listeners,r=0;r<s.length;r++){var l=s[r];try{l.callback.call(l.context,t,n,o)}catch(e){}}var c=a[o];if(c){c._called=!0;for(var d=c._listeners,u=0;u<d.length;u++){var h=d[u];try{h.callback.call(h.context,t,n,o)}catch(e){}}}else this.events[n][o]={_listeners:[],_called:!0}}else this.events[n]={_listeners:[],_called:!0},this.events[n][o]={_listeners:[],_called:!0}}}!function(t){o.Coral.COMMENT_DATA_WRAPPER="coral-data-wrapper",o.Coral.COMMENT_EMBED_WRAPPER="coral_talk_embed",o.Coral.JWT="coral_jwt",o.Coral.containers={},o.Coral.debug=window.location.href.indexOf("debug=true",0)>0;var n=o.Coral.debug;o.Coral.events={"mutation.CreateLikeAction.success":{eVar26:"comments_like",event:"event80"},"mutation.PostFlag.success":{eVar26:"comments_report",event:"event80"},"plugin.talk-plugin-wapo-permalink.copySuccess":{eVar26:"comments_link",event:"event80"},"mutation.IgnoreUser.success":{eVar26:"comments_ignore",event:"event80"},DNE1:{eVar26:"comments_respect",event:"event80"},"query.CoralEmbedStream_Embed.ready":{eVar26:"comments loaded",event:"event29"},"query.CoralEmbedStream_Embed.fetchMore.CoralEmbedStream_LoadMoreComments.success":{eVar26:function(e){var t=e.detail.variables&&e.detail.variables;return t.parent_id&&""!=t.parent_id?"view more replies":"view more comments"},event:"event5"},"mutation.PostComment.success":{eVar26:function(e){var t=e.detail.variables&&e.detail.variables.input;return t.parent_id&&""!=t.parent_id?"reply":"new_thread"},event:"event3"},"ui.AllCommentsPane.viewNewComments":{eVar26:"view new comments",event:"event5"}};var a=function(){try{!function(){var e={pageName:s.pageName,channel:s.channel,eVar1:s.eVar1,prop1:s.prop1,eVar2:s.eVar2,prop2:s.prop2,prop3:s.prop3,prop4:s.prop4,prop5:s.prop5,eVar8:s.eVar8,eVar11:s.eVar11,prop12:s.prop12,eVar17:s.eVar17,prop25:s.prop25,prop33:s.prop33,eVar33:s.eVar33,eVar58:s.eVar58,prop58:s.prop58,eVar59:s.eVar59,prop59:s.prop59,eVar62:s.eVar62,eVar65:s.eVar65,prop65:s.prop65,eVar70:"coral",prop70:"coral"};for(var t in o.Coral.events)o.Coral.events.hasOwnProperty(t)&&t.indexOf("DNE")<0&&document.addEventListener(t,function(t){if("function"==typeof window.sendDataToOmniture)try{var i=t.type,a="function"==typeof o.Coral.events[i].eVar26?o.Coral.events[i].eVar26(t):o.Coral.events[i].eVar26;window.sendDataToOmniture("coral.".concat(i),o.Coral.events[i].event,Object.assign({},e,{eVar26:a})),n&&window.console&&console.log&&console.log("OMNITURE: ".concat(o.Coral.events[i].event," ").concat(a))}catch(e){}},!1)}()}catch(e){}},r={coralEmbedWrapper:document.getElementById(o.Coral.COMMENT_EMBED_WRAPPER),dataWrapper:document.getElementById(o.Coral.COMMENT_DATA_WRAPPER),jwt:localStorage.getItem(o.Coral.JWT)||"",isFeaturedExplainerSeen:!!+localStorage.getItem("isFeaturedExplainerSeen"),isOffTopicHidden:"true"==localStorage.getItem("isOffTopicHidden"),init:function(){o.Coral.containers.coral_container={};for(var e=0;e<r.dataWrapper.attributes.length;e++){var t=r.dataWrapper.attributes[e];o.Coral.containers.coral_container[t.name]=t.value}n&&window.console&&console.log&&console.log({talkController:r,Coral:o.Coral.containers.coral_container});var a=o.Coral.containers.coral_container["data-plugin-config"].replace(/'/g,'"');o.Coral.containers.coral_container["parsed-plugin-config"]=JSON.parse(a),o.Coral.containers.coral_container["parsed-plugin-config"].isFeaturedExplainerSeen=r.isFeaturedExplainerSeen,n&&window.console&&console.log&&console.log("pb: isFeaturedExplainerSeeen",r.isFeaturedExplainerSeen),o.Coral.containers.coral_container["parsed-plugin-config"].isOffTopicHidden=r.isOffTopicHidden,o.Coral.containers.coral_container["parsed-plugin-config"].permalink_base="https://www.washingtonpost.com/graphics/2019/business/hershey-nestle-mars-chocolate-child-labor-west-africa/?outputType=comments",n&&window.console&&console.log&&console.log("pb: isOffTopicHidden",r.isOffTopicHidden),n&&window.console&&console.log&&console.log("pb: parsed plugin_config",o.Coral.containers.coral_container["parsed-plugin-config"]);var s=document.cookie.match(/wapo_secure_login_id=([^;]+)/)?RegExp.$1:"",l=document.cookie.match(/wapo_groups=([^;]+commenting_verified)/)?RegExp.$1:"";i.register("comments_coral","auth_response",r.showAuthStatusMessage),s.length&&l.length?r.checkAuthStatus():(s.length&&!l.length?i.report("comments_coral","auth_response",{status:"incomplete"}):s.length||i.report("comments_coral","auth_response",{status:"excluded"}),r.initStream({token:""}))},initStream:function(e){var i=document.getElementById(o.Coral.COMMENT_EMBED_WRAPPER);document.addEventListener("query.CoralEmbedStream_Embed.ready",function(){document.addEventListener("wp.stream.commentCount",function(e){var o=e.detail.totalCommentCount,i=void 0===o?0:o;n&&window.console&&console.log&&console.log("pb:wp.stream.commentCount",i),function(e,t){if(e>=1e3&&t.hasClass("format_short")){var n=(Math.floor(e/1e3*10)/10).toFixed(1);t.html("".concat(n,"k"))}else t.html(e)}(i,t(".talk_comment_count"))})}),window.Coral.Talk.render(i,{asset_url:o.Coral.containers.coral_container["data-asset-url"],auth_token:e.token,events:function(e){var t,i,a,s;e.once("query.CoralEmbedStream_Embed.ready",function(e){var t=new CustomEvent("query.CoralEmbedStream_Embed.ready",{detail:e});document.dispatchEvent(t)}),e.onAny(function(e,t){if(n&&window.console&&console.log&&console.log(e,t),"action.TALK_FEATURED_COMMENTS_ACTIONS_DISMISS_EXPLAINER"===e&&localStorage.setItem("isFeaturedExplainerSeen",1),"action.OFFTOPIC_TOGGLE_CHECKBOX"===e){var i="true"==localStorage.getItem("isOffTopicHidden");localStorage.setItem("isOffTopicHidden",!i)}if(e in o.Coral.events&&("query.CoralEmbedStream_Embed.ready"!==e||"action.OFFTOPIC_TOGGLE_CHECKBOX"!==e||"wp.stream.commentCount"!==e||"action.TALK_FEATURED_COMMENTS_ACTIONS_DISMISS_EXPLAINER"!==e)){var a=new CustomEvent(e,{detail:t});document.dispatchEvent(a)}}),e.on("wp.stream.commentCount",(t=function(e){document.dispatchEvent(new CustomEvent("wp.stream.commentCount",{detail:{totalCommentCount:e}}))},i=400,function(){var e=this,n=arguments,o=a&&!s;clearTimeout(s),s=setTimeout(function(){s=null,a||t.apply(e,n)},i),o&&t.apply(e,n)}))},lazy:!0,plugin_config:o.Coral.containers.coral_container["parsed-plugin-config"],talk:o.Coral.containers.coral_container["data-talk-url"]})},resolveAuthResponse:function(e){var t=e.profile.display_name;return localStorage.setItem("coral_jwt",e.token),i.report("comments_coral","auth_response",{status:"valid",display_name:t}),e},rejectAuthResponse:function(e,t,n){return i.report("comments_coral","auth_response",{status:"excluded"}),{token:"",error:n}},checkAuthStatus:function(){var e="".concat(o.Coral.containers.coral_container["data-validate-url"],"?jwt=").concat(r.jwt);fetch(e,{method:"GET",credentials:"include",mode:"cors",cache:"default"}).then(function(e){if(e.ok)return e.json();throw new Error}).then(r.resolveAuthResponse).then(r.initStream).catch(r.rejectAuthResponse)},showAuthStatusMessage:function(e){var t=r.authStatusMessages[e.status](e);document.getElementById("coral_talk_auth_status_target").insertAdjacentHTML("afterbegin",t)},authStatusMessages:{valid:function(e){var t=decodeURIComponent(e.display_name);return'<div id="talk_welcome">Posting as <span class="talk_display_name">'.concat(t,"</span>.</div>")},incomplete:function(){var e=window.TWP.signin.profileUrl,t=encodeURIComponent(window.location.href.split("?")[0]);return'\n          <div id="talk_incomplete">\n            <div class="header">Your profile is incomplete</div>\n            <div>Before you can contribute to our community, please visit your <a class="validate" href="'.concat(e).concat(t,'&commenting=1">Profile page</a> in order to complete your profile.</div>\n          </div>')},excluded:function(){var e=o.signin.loginurl_page,t=encodeURIComponent(window.location.href);return'<a class="sign-in" id="talk_not_signed_in" href="'.concat(e).concat(t,'">Sign in to join the conversation</a>')}}};e.exports.coralInitEventMonitors=a,e.exports.coratTalkControllerInit=r.init}(jQuery),r.prototype.report=function(e,t,n){if(n)this._fireEvent(e,t);else{var o=this;setTimeout(function(){o._fireEvent(e,t)},0)}},r.prototype.register=function(e,t){var o=this.events;for(var i in e){var a="app",s=i;if(-1!=i.indexOf(".")){var r=i.split(".");a=r[0],s=r[1]}"object"!=n(o[a])&&(o[a]={_listeners:[],_called:!1}),"*"==s?o[a]._listeners.push({callback:e[i],context:t}):("object"!=n(o[a][s])&&(o[a][s]={_listeners:[],_called:!1}),o[a][s]._listeners.push({callback:e[i],context:t}))}}},function(e,t,n){e.exports=function(e){function t(o){if(n[o])return n[o].exports;var i=n[o]={exports:{},id:o,loaded:!1};return e[o].call(i.exports,i,i.exports,t),i.loaded=!0,i.exports}var n={};return t.m=e,t.c=n,t.p="",t(0)}([function(e,t,n){"use strict";var o=n(1),i=o.isInBrowser,a=n(2),s=new a(i?document.body:null);s.setStateFromDOM(null),s.listenToDOM(),i&&(window.scrollMonitor=s),e.exports=s},function(e,t){"use strict";t.VISIBILITYCHANGE="visibilityChange",t.ENTERVIEWPORT="enterViewport",t.FULLYENTERVIEWPORT="fullyEnterViewport",t.EXITVIEWPORT="exitViewport",t.PARTIALLYEXITVIEWPORT="partiallyExitViewport",t.LOCATIONCHANGE="locationChange",t.STATECHANGE="stateChange",t.eventTypes=[t.VISIBILITYCHANGE,t.ENTERVIEWPORT,t.FULLYENTERVIEWPORT,t.EXITVIEWPORT,t.PARTIALLYEXITVIEWPORT,t.LOCATIONCHANGE,t.STATECHANGE],t.isOnServer="undefined"==typeof window,t.isInBrowser=!t.isOnServer,t.defaultOffsets={top:0,bottom:0}},function(e,t,n){"use strict";function o(e){return r?0:e===document.body?window.innerHeight||document.documentElement.clientHeight:e.clientHeight}function i(e){return r?0:e===document.body?Math.max(document.body.scrollHeight,document.documentElement.scrollHeight,document.body.offsetHeight,document.documentElement.offsetHeight,document.documentElement.clientHeight):e.scrollHeight}function a(e){return r?0:e===document.body?window.pageYOffset||document.documentElement&&document.documentElement.scrollTop||document.body.scrollTop:e.scrollTop}var s=n(1),r=s.isOnServer,l=s.isInBrowser,c=s.eventTypes,d=n(3),u=!1;if(l)try{var h=Object.defineProperty({},"passive",{get:function(){u=!0}});window.addEventListener("test",null,h)}catch(e){}var p=!!u&&{capture:!1,passive:!0},f=function(){function e(t,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e);var s,r,l,d=this;this.item=t,this.watchers=[],this.viewportTop=null,this.viewportBottom=null,this.documentHeight=i(t),this.viewportHeight=o(t),this.DOMListener=function(){e.prototype.DOMListener.apply(d,arguments)},this.eventTypes=c,n&&(this.containerWatcher=n.create(t)),this.update=function(){(function(){if(d.viewportTop=a(t),d.viewportBottom=d.viewportTop+d.viewportHeight,d.documentHeight=i(t),d.documentHeight!==s){for(r=d.watchers.length;r--;)d.watchers[r].recalculateLocation();s=d.documentHeight}})(),function(){for(l=d.watchers.length;l--;)d.watchers[l].update();for(l=d.watchers.length;l--;)d.watchers[l].triggerCallbacks()}()},this.recalculateLocations=function(){this.documentHeight=0,this.update()}}return e.prototype.listenToDOM=function(){l&&(window.addEventListener?(this.item===document.body?window.addEventListener("scroll",this.DOMListener,p):this.item.addEventListener("scroll",this.DOMListener,p),window.addEventListener("resize",this.DOMListener)):(this.item===document.body?window.attachEvent("onscroll",this.DOMListener):this.item.attachEvent("onscroll",this.DOMListener),window.attachEvent("onresize",this.DOMListener)),this.destroy=function(){window.addEventListener?(this.item===document.body?(window.removeEventListener("scroll",this.DOMListener,p),this.containerWatcher.destroy()):this.item.removeEventListener("scroll",this.DOMListener,p),window.removeEventListener("resize",this.DOMListener)):(this.item===document.body?(window.detachEvent("onscroll",this.DOMListener),this.containerWatcher.destroy()):this.item.detachEvent("onscroll",this.DOMListener),window.detachEvent("onresize",this.DOMListener))})},e.prototype.destroy=function(){},e.prototype.DOMListener=function(e){this.setStateFromDOM(e)},e.prototype.setStateFromDOM=function(e){var t=a(this.item),n=o(this.item),s=i(this.item);this.setState(t,n,s,e)},e.prototype.setState=function(e,t,n,o){var i=t!==this.viewportHeight||n!==this.contentHeight;if(this.latestEvent=o,this.viewportTop=e,this.viewportHeight=t,this.viewportBottom=e+t,this.contentHeight=n,i)for(var a=this.watchers.length;a--;)this.watchers[a].recalculateLocation();this.updateAndTriggerWatchers(o)},e.prototype.updateAndTriggerWatchers=function(e){for(var t=this.watchers.length;t--;)this.watchers[t].update();for(t=this.watchers.length;t--;)this.watchers[t].triggerCallbacks(e)},e.prototype.createCustomContainer=function(){return new e},e.prototype.createContainer=function(t){"string"==typeof t?t=document.querySelector(t):t&&t.length>0&&(t=t[0]);var n=new e(t,this);return n.setStateFromDOM(),n.listenToDOM(),n},e.prototype.create=function(e,t){"string"==typeof e?e=document.querySelector(e):e&&e.length>0&&(e=e[0]);var n=new d(this,e,t);return this.watchers.push(n),n},e.prototype.beget=function(e,t){return this.create(e,t)},e}();e.exports=f},function(e,t,n){"use strict";function o(e,t,n){function o(e,t){if(0!==e.length)for(w=e.length;w--;)(g=e[w]).callback.call(b,t,b),g.isOne&&e.splice(w,1)}var i,f,m,v,w,g,b=this;this.watchItem=t,this.container=e,this.offsets=n?n===+n?{top:n,bottom:n}:{top:n.top||p.top,bottom:n.bottom||p.bottom}:p,this.callbacks={};for(var y=0,C=h.length;y<C;y++)b.callbacks[h[y]]=[];this.locked=!1,this.triggerCallbacks=function(e){switch(this.isInViewport&&!i&&o(this.callbacks[s],e),this.isFullyInViewport&&!f&&o(this.callbacks[r],e),this.isAboveViewport!==m&&this.isBelowViewport!==v&&(o(this.callbacks[a],e),f||this.isFullyInViewport||(o(this.callbacks[r],e),o(this.callbacks[c],e)),i||this.isInViewport||(o(this.callbacks[s],e),o(this.callbacks[l],e))),!this.isFullyInViewport&&f&&o(this.callbacks[c],e),!this.isInViewport&&i&&o(this.callbacks[l],e),this.isInViewport!==i&&o(this.callbacks[a],e),!0){case i!==this.isInViewport:case f!==this.isFullyInViewport:case m!==this.isAboveViewport:case v!==this.isBelowViewport:o(this.callbacks[u],e)}i=this.isInViewport,f=this.isFullyInViewport,m=this.isAboveViewport,v=this.isBelowViewport},this.recalculateLocation=function(){if(!this.locked){var e=this.top,t=this.bottom;if(this.watchItem.nodeName){var n=this.watchItem.style.display;"none"===n&&(this.watchItem.style.display="");for(var i=0,a=this.container;a.containerWatcher;)i+=a.containerWatcher.top-a.containerWatcher.container.viewportTop,a=a.containerWatcher.container;var s=this.watchItem.getBoundingClientRect();this.top=s.top+this.container.viewportTop-i,this.bottom=s.bottom+this.container.viewportTop-i,"none"===n&&(this.watchItem.style.display=n)}else this.watchItem===+this.watchItem?this.watchItem>0?this.top=this.bottom=this.watchItem:this.top=this.bottom=this.container.documentHeight-this.watchItem:(this.top=this.watchItem.top,this.bottom=this.watchItem.bottom);this.top-=this.offsets.top,this.bottom+=this.offsets.bottom,this.height=this.bottom-this.top,void 0===e&&void 0===t||this.top===e&&this.bottom===t||o(this.callbacks[d],null)}},this.recalculateLocation(),this.update(),i=this.isInViewport,f=this.isFullyInViewport,m=this.isAboveViewport,v=this.isBelowViewport}var i=n(1),a=i.VISIBILITYCHANGE,s=i.ENTERVIEWPORT,r=i.FULLYENTERVIEWPORT,l=i.EXITVIEWPORT,c=i.PARTIALLYEXITVIEWPORT,d=i.LOCATIONCHANGE,u=i.STATECHANGE,h=i.eventTypes,p=i.defaultOffsets;o.prototype={on:function(e,t,n){switch(!0){case e===a&&!this.isInViewport&&this.isAboveViewport:case e===s&&this.isInViewport:case e===r&&this.isFullyInViewport:case e===l&&this.isAboveViewport&&!this.isInViewport:case e===c&&this.isInViewport&&this.isAboveViewport:if(t.call(this,this.container.latestEvent,this),n)return}if(!this.callbacks[e])throw new Error("Tried to add a scroll monitor listener of type "+e+". Your options are: "+h.join(", "));this.callbacks[e].push({callback:t,isOne:n||!1})},off:function(e,t){if(!this.callbacks[e])throw new Error("Tried to remove a scroll monitor listener of type "+e+". Your options are: "+h.join(", "));for(var n,o=0;n=this.callbacks[e][o];o++)if(n.callback===t){this.callbacks[e].splice(o,1);break}},one:function(e,t){this.on(e,t,!0)},recalculateSize:function(){this.height=this.watchItem.offsetHeight+this.offsets.top+this.offsets.bottom,this.bottom=this.top+this.height},update:function(){this.isAboveViewport=this.top<this.container.viewportTop,this.isBelowViewport=this.bottom>this.container.viewportBottom,this.isInViewport=this.top<this.container.viewportBottom&&this.bottom>this.container.viewportTop,this.isFullyInViewport=this.top>=this.container.viewportTop&&this.bottom<=this.container.viewportBottom||this.isAboveViewport&&this.isBelowViewport},destroy:function(){var e=this.container.watchers.indexOf(this);this.container.watchers.splice(e,1);for(var t=0,n=h.length;t<n;t++)this.callbacks[h[t]].length=0},lock:function(){this.locked=!0},unlock:function(){this.locked=!1}};for(var f=function(e){return function(t,n){this.on.call(this,e,t,n)}},m=0,v=h.length;m<v;m++){var w=h[m];o.prototype[w]=f(w)}e.exports=o}])},function(e,t){if($(".flow-wrapper").length>0){var n=$(".flow-wrapper"),o=$(".flow-caption"),i=$(".flow-visual"),a={preLoadVisuals:function(e){if(!e.hasClass("loaded")){var t=e.attr("data-hi-res-src");e.attr("src",t),e.addClass("loaded")}},innerPreLoad:function(){o.find("p").map(function(e,t){var n=scrollMonitor.create($(t),0);n.isInViewport&&(i.eq(e).addClass("visual-active"),$(t).closest(".flow-wrapper").find(".flow-visual").each(function(e,t){$(t).addClass("visual-fixed"),a.preLoadVisuals($(t))}));n.stateChange(function(){n.isInViewport&&$(t).closest(".flow-wrapper").find(".flow-visual").each(function(e,t){a.preLoadVisuals($(t))})})})},visualFixed:function(){n.map(function(e,t){var n=scrollMonitor.create($(t));n.stateChange(function(){n.isFullyInViewport&&($(t).find(i).addClass("visual-fixed"),$(t).addClass("visual-on-screen")),n.isFullyInViewport||($(t).find(".flow-visual").removeClass("visual-fixed"),$(t).removeClass("visual-on-screen"))})})},visualStep:function(){o.each(function(e,t){var n=scrollMonitor.create($(t));n.stateChange(function(){n.isInViewport&&n.isAboveViewport&&(i.eq(e).addClass("visual-active visual-bottom-pos"),a.preLoadVisuals($(t).next(".flow-visual"))),n.isBelowViewport&&(i.eq(e).removeClass("visual-active visual-bottom-pos"),a.preLoadVisuals($(t).prev(".flow-visual")))})})},mobileCheck:function(){$(window).width()<768&&(i.css("height","".concat(screen.height,"px")),o.css("height","".concat(screen.height,"px")))},init:function(){a.mobileCheck(),a.innerPreLoad(),a.visualFixed(),a.visualStep()}};a.init()}}]);